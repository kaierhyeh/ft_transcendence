/* Responsive Design - Support on All Devices */

/* ============================================
   BREAKPOINTS
   ============================================ */
/* Mobile: 320px - 767px */
/* Tablet: 768px - 1023px */
/* Desktop: 1024px+ */

/* ============================================
   BASE RESPONSIVE STYLES
   ============================================ */

/* Ensure viewport meta tag is working */
html {
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
}

/* Make everything responsive by default */
img, video, canvas, iframe {
  max-width: 100%;
  height: auto;
}

/* ============================================
   MOBILE FIRST - BASE STYLES (320px+)
   ============================================ */

/* Mobile: Stack elements vertically */
.responsive-container {
  width: 100%;
  padding: 0 1rem;
  box-sizing: border-box;
}

/* Mobile-friendly touch targets (minimum 44x44px) */
button, a, input, select, .clickable {
  min-height: 44px;
  min-width: 44px;
}

/* Mobile menu adjustments */
.menu-open-button {
  width: 56px !important;
  height: 56px !important;
  right: 4% !important;
  bottom: 4% !important;
}

.menu-window {
  width: 100% !important;
  height: 100% !important;
  bottom: 0 !important;
  right: 0 !important;
  border-radius: 0 !important;
}

/* Mobile-friendly font sizes */
body {
  font-size: 14px;
}

h1 { font-size: 1.75rem; }
h2 { font-size: 1.5rem; }
h3 { font-size: 1.25rem; }

/* Stack buttons vertically on mobile */
.button-group {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.button-group button {
  width: 100%;
}

/* Mobile navigation */
.back-to-home-btn {
  top: 0.75rem;
  left: 0.75rem;
  padding: 0.4rem 0.8rem;
  font-size: 12px;
}

/* ============================================
   TABLET - PORTRAIT (768px+)
   ============================================ */

@media (min-width: 768px) {
  body {
    font-size: 16px;
  }

  .responsive-container {
    padding: 0 2rem;
  }

  /* Tablet menu adjustments */
  .menu-window {
    width: 400px !important;
    height: 600px !important;
    bottom: 20px !important;
    right: 40px !important;
    border-radius: 12px !important;
  }

  .menu-open-button {
    width: 56px !important;
    height: 56px !important;
    right: 2% !important;
    bottom: 2% !important;
  }

  /* Two-column layout for tablets */
  .tablet-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
  }

  /* Horizontal button groups on tablet */
  .button-group {
    flex-direction: row;
    justify-content: center;
  }

  .button-group button {
    width: auto;
    min-width: 150px;
  }

  .back-to-home-btn {
    top: 1rem;
    left: 1rem;
    padding: 0.5rem 1rem;
    font-size: 14px;
  }
}

/* ============================================
   TABLET - LANDSCAPE (1024px+)
   ============================================ */

@media (min-width: 1024px) {
  .responsive-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
  }

  /* Desktop menu (original size) */
  .menu-window {
    width: 400px !important;
    height: 600px !important;
  }

  /* Three-column layout for desktop */
  .desktop-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
  }
}

/* ============================================
   LARGE DESKTOP (1440px+)
   ============================================ */

@media (min-width: 1440px) {
  .responsive-container {
    max-width: 1400px;
  }

  /* Four-column layout for large screens */
  .desktop-grid {
    grid-template-columns: repeat(4, 1fr);
  }
}

/* ============================================
   ORIENTATION SPECIFIC
   ============================================ */

/* Portrait orientation */
@media (orientation: portrait) {
  .game-container {
    max-width: 100vw;
    max-height: 60vh;
  }

  /* Vertical layout for portrait */
  .portrait-stack {
    flex-direction: column;
  }
}

/* Landscape orientation */
@media (orientation: landscape) {
  .game-container {
    max-width: 80vw;
    max-height: 80vh;
  }

  /* Horizontal layout for landscape */
  .landscape-row {
    flex-direction: row;
  }
}

/* ============================================
   TOUCH DEVICES
   ============================================ */

@media (hover: none) and (pointer: coarse) {
  /* Touch device optimizations */
  
  /* Larger touch targets */
  button, a, input, select {
    min-height: 48px;
    padding: 12px;
  }

  /* Remove hover effects on touch devices */
  button:hover,
  .menu-button:hover,
  .menu-open-button:hover {
    transform: none;
  }

  /* Show active state instead */
  button:active,
  .menu-button:active,
  .menu-open-button:active {
    transform: scale(0.95);
  }
}

/* ============================================
   HIGH DPI SCREENS (Retina)
   ============================================ */

@media (-webkit-min-device-pixel-ratio: 2),
       (min-resolution: 192dpi) {
  /* Sharper borders and shadows for retina */
  button, .menu-button {
    border-width: 1px;
  }
}

/* ============================================
   MOBILE SPECIFIC FIXES
   ============================================ */

/* iOS Safari: Prevent rubber band scrolling */
@supports (-webkit-touch-callout: none) {
  body {
    position: fixed;
    width: 100%;
    height: 100%;
    overflow: hidden;
  }

  #app {
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    height: 100vh;
  }
}

/* Android Chrome: Fix viewport height */
@supports (not (-webkit-touch-callout: none)) {
  body {
    min-height: 100vh;
    min-height: -webkit-fill-available;
  }
}

/* ============================================
   PONG GAME RESPONSIVE
   ============================================ */

/* Mobile Pong controls */
@media (max-width: 767px) {
  #pongCanvas {
    width: 100% !important;
    height: auto !important;
    max-height: 60vh;
  }

  /* Virtual controls for mobile */
  .mobile-controls {
    display: flex;
    justify-content: space-between;
    padding: 1rem;
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(0, 0, 0, 0.8);
  }

  .mobile-controls button {
    width: 48%;
    height: 60px;
    font-size: 18px;
  }
}

/* Tablet Pong */
@media (min-width: 768px) and (max-width: 1023px) {
  #pongCanvas {
    width: 90% !important;
    max-width: 800px !important;
    height: auto !important;
  }
}

/* Desktop Pong */
@media (min-width: 1024px) {
  #pongCanvas {
    width: 800px !important;
    height: 600px !important;
  }

  .mobile-controls {
    display: none;
  }
}

/* ============================================
   LANGUAGE SELECTOR RESPONSIVE
   ============================================ */

@media (max-width: 767px) {
  .language-select {
    min-width: 80px !important;
    max-width: 100px !important;
    font-size: 12px !important;
    padding: 4px 6px !important;
  }
}

/* ============================================
   UTILITY CLASSES
   ============================================ */

/* Show/Hide based on device */
.mobile-only {
  display: block;
}

.tablet-only,
.desktop-only {
  display: none;
}

@media (min-width: 768px) and (max-width: 1023px) {
  .mobile-only,
  .desktop-only {
    display: none;
  }
  
  .tablet-only {
    display: block;
  }
}

@media (min-width: 1024px) {
  .mobile-only,
  .tablet-only {
    display: none;
  }
  
  .desktop-only {
    display: block;
  }
}

/* Responsive text alignment */
.text-center-mobile {
  text-align: center;
}

@media (min-width: 768px) {
  .text-center-mobile {
    text-align: left;
  }
}
