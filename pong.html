<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Pong - Multijoueur</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @font-face {
            font-family: "Bit5x3";
            src: url("fonts/bit5x3.otf") format("truetype");
        }
    </style>
</head>
<body class="m-0 bg-black flex justify-center items-center h-screen">

    <div id="menu" class="text-center text-white">
        <h1 class="text-6xl mb-8" style="font-family: Bit5x3;">PONG</h1>
        <div class="space-y-4">
            <button id="btn2players" class="bg-blue-600 hover:bg-blue-700 text-white text-2xl px-8 py-4 rounded block mx-auto">
                2 JOUEURS
            </button>
            <button id="btn4players" class="bg-green-600 hover:bg-green-700 text-white text-2xl px-8 py-4 rounded block mx-auto">
                4 JOUEURS
            </button>
        </div>
        <div class="mt-8 text-sm text-gray-400">
        </div>
    </div>

    <canvas id="pong" width="800" height="400" class="bg-black border-2 border-white hidden"></canvas>
    
    <div id="gameControls" class="absolute bottom-4 hidden">
        <button id="btnBack" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded">
            back to menu
        </button>
    </div>

    <script src="pong4players.js"></script>
    <script>
        let currentGame = null;

        document.addEventListener('DOMContentLoaded', () => {
            const menu = document.getElementById('menu');
            const canvas = document.getElementById('pong');
            const controls = document.getElementById('gameControls');
            const btn2players = document.getElementById('btn2players');
            const btn4players = document.getElementById('btn4players');
            const btnBack = document.getElementById('btnBack');

            function showGame() {
                menu.classList.add('hidden');
                canvas.classList.remove('hidden');
                controls.classList.remove('hidden');
            }

            function showMenu() {
                menu.classList.remove('hidden');
                canvas.classList.add('hidden');
                controls.classList.add('hidden');
                if (currentGame) {
                    currentGame = null;
                }
            }

            btn2players.addEventListener('click', () => {
                //add 2 player modes here
                //---------------------
            });

            btn4players.addEventListener('click', () => {
                showGame();
                currentGame = new Pong4();
                currentGame.start();
            });

            btnBack.addEventListener('click', () => {
                showMenu();
            });
        });
    </script>
</body>
</html>